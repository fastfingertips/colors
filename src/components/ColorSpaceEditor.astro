---
interface SliderInfo {
  label: string;
  id: string;
  min: string | number;
  max: string | number;
  step?: string | number;
}

interface Props {
  label: string;
  inputId: string;
  initialValue: string;
  tooltip: string;
  readonly?: boolean;
  sliders: SliderInfo[];
}

const { label, inputId, initialValue, tooltip, readonly = false, sliders } = Astro.props;
---
<div class="color-space-block">
  <div class="value-input-group">
    <div class="info-wrapper">
      <button class="mini-copy-btn" title={`Copy ${label}`} data-copy-target={inputId}>
        <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
      <span class="info-icon" data-tooltip={tooltip}>
        <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
      </span>
    </div>
    <span class="value-label">{label}</span>
    <input type="text" id={inputId} value={initialValue} spellcheck="false" readonly={readonly} />
  </div>
  <div class="slider-group">
    {sliders.map(s => (
      <div class="slider-item">
        <label>{s.label}</label>
        <input type="range" id={s.id} min={s.min} max={s.max} step={s.step} />
      </div>
    ))}
  </div>
</div>
